{% extends "metronic.html.twig" %}

{% block title %}Create User | {{ parent() }}{% endblock %}
{% block pageTitle %}<h1>Create User</h1>{% endblock %}

{% block body %}
    <!-- BEGIN PAGE BREADCRUMB -->
    <ul class="page-breadcrumb breadcrumb">
        <li>
            <a href="/">Dashboard</a><i class="fa fa-circle"></i>
        </li>
        <li>
            <a href="{{ path('users_list_all') }}">Users</a><i class="fa fa-circle"></i>
        </li>
        <li class="active">
            New
        </li>
    </ul>
    <!-- END PAGE BREADCRUMB -->

    <!-- BEGIN PAGE CONTENT INNER -->
    <div class="row">

        <div class="col-md-8 col-sm-12">

            <div class="portlet light">

                <div class="portlet-title">
                    <div class="caption caption-md">
                        <i class="icon-bar-chart theme-font hide"></i>
                        <span class="caption-subject theme-font bold uppercase">Create new user</span>
                    </div>
                </div>

                <div class="portlet-body">
                    <form class="form-horizontal" role="form" method="post">
                        <div class="form-body">
                            {% set error_list = [] %}
                            {% if errors is defined %}
                                <div class="alert alert-danger">
                                    <h3>Please fix the following errors</h3>
                                    <ul class="list-unstyled">
                                        {% for error in errors %}
                                            <li>
                                                <i class="fa fa-fw fa-exclamation-circle font-red-flamingo"></i>
                                                {{ error.message }}
                                            </li>
                                            {% set error_list = error_list|merge({ (loop.index0): error.propertyPath}) %}
                                        {% endfor %}
                                    </ul>
                                </div>
                            {% endif %}

                            <div class="form-group {% if 'username' in error_list %}has-error{% endif %}">
                                <label class="col-md-3 control-label">Username</label>
                                <div class="col-md-9">
                                    <input type="text" name="username" id="username" class="form-control input-large" required="required" placeholder="Should be one word, no space"
                                            value="{{ app.request.request.get('username') }}" />
                                </div>
                            </div>

                            <div class="form-group {% if 'email' in error_list %}has-error{% endif %}">
                                <label class="col-md-3 control-label">Email</label>
                                <div class="col-md-9">
                                    <input type="email" name="email" id="email" class="form-control input-large" required="required"
                                            value="{{ app.request.request.get('email') }}" placeholder="Should be a valid email and unique" />
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-3 control-label">Designation</label>
                                <div class="col-md-9">
                                    <input type="text" name="designation" id="designation" class="form-control input-large"
                                            value="{{ app.request.request.get('designation') }}" />
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-3 control-label">First Name</label>
                                <div class="col-md-9">
                                    <input type="text" name="firstName" id="firstName" class="form-control input-large"
                                            value="{{ app.request.request.get('firstName') }}" />
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-3 control-label">Last Name</label>
                                <div class="col-md-9">
                                    <input type="text" name="lastName" id="lastName" class="form-control input-large"
                                            value="{{ app.request.request.get('lastName') }}" />
                                </div>
                            </div>

                            <div class="form-group {% if 'user_type' in error_list %}has-error{% endif %}">
                                <label class="col-md-3 control-label">User Type</label>
                                <div class="col-md-9">
                                    <div class="radio-list">
                                        <label><input type="radio" class="icheck" name="user_type" value="admin" checked="checked">Admin </label><br>
                                        <label><input type="radio" class="icheck" name="user_type" value="dc_admin">District Commissioner </label><br>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="form-actions">
                            <div class="row">
                                <div class="col-md-offset-3 col-md-9">
                                    <button type="submit" class="btn green">Create User</button>
                                    <a class="btn default" href="{{ path('users_list_all') }}">Cancel</a>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-md-4 col-sm-12">

        </div>
    </div>
    <!-- END PAGE CONTENT INNER -->
{% endblock %}

